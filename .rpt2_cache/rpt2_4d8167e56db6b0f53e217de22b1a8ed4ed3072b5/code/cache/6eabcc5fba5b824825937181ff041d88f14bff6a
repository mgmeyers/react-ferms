{"code":"import * as React from 'react';\r\nimport { FormContext } from './Form';\r\nimport { FormStatus } from 'types';\r\nfunction fieldValueReducer(data, f) {\r\n    data.status.push(f ? f.status : FormStatus.INVALID);\r\n    data.value.push(f ? f.value : '');\r\n    return data;\r\n}\r\nfunction getFieldVals(fields) {\r\n    return fields.reduce(fieldValueReducer, {\r\n        status: [],\r\n        value: [],\r\n    });\r\n}\r\nfunction getField(name, fields) {\r\n    if (Array.isArray(name)) {\r\n        return name.map(function (n) { return fields.getField(n); });\r\n    }\r\n    return [fields.getField(name)];\r\n}\r\nfunction unwrap(v) {\r\n    if (v.length === 1)\r\n        return v[0];\r\n    return v;\r\n}\r\nexport function renderValue(render, fields) {\r\n    var _a = getFieldVals(fields), value = _a.value, status = _a.status;\r\n    return render ? render(unwrap(value), unwrap(status)) : React.createElement(React.Fragment, null, value);\r\n}\r\nexport default function Value(props) {\r\n    var name = props.name, render = props.render;\r\n    var fields = getField(name, React.useContext(FormContext).fields);\r\n    return React.useMemo(function () { return renderValue(render, fields); }, [\r\n        name,\r\n        render\r\n    ].concat(fields));\r\n}\r\n//# sourceMappingURL=Value.js.map","map":"{\"version\":3,\"file\":\"Value.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/components/Value.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAA;AAK9B,OAAO,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAA;AAEpC,OAAO,EAAE,UAAU,EAAE,MAAM,OAAO,CAAA;AAYlC,SAAS,iBAAiB,CACxB,IAA4C,EAC5C,CAAY;IAEZ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAA;IACnD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAA;IAEjC,OAAO,IAAI,CAAA;AACb,CAAC;AAED,SAAS,YAAY,CAAC,MAAmB;IACvC,OAAO,MAAM,CAAC,MAAM,CAAC,iBAAiB,EAAE;QACtC,MAAM,EAAE,EAAE;QACV,KAAK,EAAE,EAAE;KACV,CAAC,CAAA;AACJ,CAAC;AAED,SAAS,QAAQ,CAAC,IAAuB,EAAE,MAAkB;IAC3D,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACvB,OAAO,IAAI,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAlB,CAAkB,CAAC,CAAA;KACzC;IAED,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAA;AAChC,CAAC;AAED,SAAS,MAAM,CAAC,CAAQ;IACtB,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC;QAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAA;IAC/B,OAAO,CAAC,CAAA;AACV,CAAC;AAED,MAAM,UAAU,WAAW,CACzB,MAAgB,EAChB,MAAmB;IAEb,IAAA,yBAAwC,EAAtC,gBAAK,EAAE,kBAA+B,CAAA;IAC9C,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,0CAAG,KAAK,CAAI,CAAA;AACtE,CAAC;AAED,MAAM,CAAC,OAAO,UAAU,KAAK,CAAC,KAAiB;IACrC,IAAA,iBAAI,EAAE,qBAAM,CAAU;IAC9B,IAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,CAAA;IAEnE,OAAO,KAAK,CAAC,OAAO,CAAC,cAAM,OAAA,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,EAA3B,CAA2B;QACpD,IAAI;QACJ,MAAM;aACH,MAAM,EACM,CAAA;AACnB,CAAC\"}","dts":{"name":"/Users/matt/Documents/Personal/react-ferms/components/Value.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nimport FormField from 'data/FormField';\r\nimport { FormStatus } from 'types';\r\ndeclare type RenderFn = (value: any | any[], status: FormStatus | FormStatus[]) => JSX.Element;\r\nexport interface ValueProps {\r\n    name: string | string[];\r\n    render?: RenderFn;\r\n}\r\nexport declare function renderValue(render: RenderFn, fields: FormField[]): JSX.Element;\r\nexport default function Value(props: ValueProps): JSX.Element;\r\nexport {};\r\n"}}
